import RPi.GPIO as GPIO


GPIO.setmode(GPIO.BCM)
class HBridge:
	def __init__(self, in1, in2, ena, speed=100):
		self.in1 = in1
		self.in2 = in2
		GPIO.setup(in1, GPIO.OUT)
		GPIO.setup(in2, GPIO.OUT)
		GPIO.setup(ena, GPIO.OUT)
		GPIO.output(in1, GPIO.LOW)
		GPIO.output(in2, GPIO.LOW)
		self.motor=GPIO.PWM(ena, 1000)
		self.motor.start(0)
		self.motor.ChangeDutyCycle(speed)
	def Forward(self):
		GPIO.output(self.in1, GPIO.HIGH)
		GPIO.output(self.in2, GPIO.LOW)
	def Backward(self):
		GPIO.output(self.in1, GPIO.LOW)
		GPIO.output(self.in2, GPIO.HIGH)

	def Stop():
		GPIO.output(self.in1, GIPO.LOW)
		GPIO.output(self.in2, GPIO.LOW)
if __name__ == "__main__":
	motor1 = HBridge(20,16,21)
	try:
		while True:
            		motor1.Forward()
	except Exception as e:
		print(e)
